{"ast":null,"code":"var _jsxFileName = \"D:\\\\Shahab 2024-25\\\\4th Year\\\\Capstone\\\\RealtorIQ\\\\RealtorIQ\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport HomeApp from './components/Home/HomeApp';\nimport RealtorApp from './components/Realtor/RealtorApp';\nimport MainPage from './components/MainPage/MainPage';\nimport SettingsPage from './components/Settings/SettingsPage';\nimport FormPage from './components/Form/FormPage';\nimport SignIn from './components/Auth/SignIn';\nimport SignUp from './components/Auth/SignUp';\nimport PrivateRoute from './components/Auth/PrivateRoute';\nimport './styles/Navbar.css';\nimport './styles/Realtor/global.css';\nimport './styles/darkmode.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.withCredentials = true;\n// Change baseURL based on environment\naxios.defaults.baseURL = process.env.NODE_ENV === 'development' ? 'http://localhost:5000' : 'https://realtoriq.onrender.com';\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await axios.get('/auth/status', {\n          withCredentials: true\n        });\n        console.log('Auth status response:', response.data);\n        if (response.data.authenticated) {\n          console.log('User data:', response.data.user);\n          setUser(response.data.user);\n          if (window.location.pathname === '/main') {\n            window.location.replace('/realtor');\n          }\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    checkAuth();\n  }, []);\n  const handleLogin = () => {\n    // For local login, we do it inside SignIn\n    // For Google login:\n    window.location.href = 'https://realtoriqbackend.onrender.com/auth/google';\n  };\n  const handleLogout = async () => {\n    try {\n      await axios.get('/auth/logout');\n      setUser(null);\n      window.location.href = '/';\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomeApp, {\n          user: user,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/main\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/realtor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/signin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/realtor\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          user: user,\n          children: /*#__PURE__*/_jsxDEV(RealtorApp, {\n            user: user,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/realtor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(SignIn, {\n          setUser: setUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/realtor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(SignUp, {\n          setUser: setUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/main\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          user: user,\n          children: /*#__PURE__*/_jsxDEV(MainPage, {\n            user: user,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/settings\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          user: user,\n          children: /*#__PURE__*/_jsxDEV(SettingsPage, {\n            user: user,\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/form/:realtorId\",\n        element: /*#__PURE__*/_jsxDEV(FormPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","axios","HomeApp","RealtorApp","MainPage","SettingsPage","FormPage","SignIn","SignUp","PrivateRoute","jsxDEV","_jsxDEV","defaults","withCredentials","baseURL","process","env","NODE_ENV","App","_s","user","setUser","isLoading","setIsLoading","checkAuth","response","get","console","log","data","authenticated","window","location","pathname","replace","error","handleLogin","href","handleLogout","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onLogout","to","_c","$RefreshReg$"],"sources":["D:/Shahab 2024-25/4th Year/Capstone/RealtorIQ/RealtorIQ/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\n\nimport HomeApp from './components/Home/HomeApp';\nimport RealtorApp from './components/Realtor/RealtorApp';\nimport MainPage from './components/MainPage/MainPage';\nimport SettingsPage from './components/Settings/SettingsPage';\nimport FormPage from './components/Form/FormPage';\nimport SignIn from './components/Auth/SignIn';\nimport SignUp from './components/Auth/SignUp';\nimport PrivateRoute from './components/Auth/PrivateRoute';\nimport './styles/Navbar.css';\nimport './styles/Realtor/global.css';\nimport './styles/darkmode.css';\n\n\n\naxios.defaults.withCredentials = true;\n// Change baseURL based on environment\naxios.defaults.baseURL = process.env.NODE_ENV === 'development' \n  ? 'http://localhost:5000'\n  : 'https://realtoriq.onrender.com';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await axios.get('/auth/status', { withCredentials: true });\n        console.log('Auth status response:', response.data);\n        if (response.data.authenticated) {\n          console.log('User data:', response.data.user);\n          setUser(response.data.user);\n          if (window.location.pathname === '/main') {\n            window.location.replace('/realtor');\n          }\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  const handleLogin = () => {\n    // For local login, we do it inside SignIn\n    // For Google login:\n    window.location.href = 'https://realtoriqbackend.onrender.com/auth/google';\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.get('/auth/logout');\n      setUser(null);\n      window.location.href = '/';\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<HomeApp user={user} onLogout={handleLogout} />} />\n        <Route \n          path=\"/main\" \n          element={user ? <Navigate to=\"/realtor\" /> : <Navigate to=\"/signin\" />} \n        />\n        <Route\n          path=\"/realtor\"\n          element={\n            <PrivateRoute user={user}>\n              <RealtorApp user={user} onLogout={handleLogout} />\n            </PrivateRoute>\n          }\n        />\n        <Route \n          path=\"/signin\" \n          element={user ? <Navigate to=\"/realtor\" /> : <SignIn setUser={setUser} />} \n        />\n        <Route \n          path=\"/signup\" \n          element={user ? <Navigate to=\"/realtor\" /> : <SignUp setUser={setUser} />} \n        />\n\n        {/* Main dashboard after login */}\n        <Route\n          path=\"/main\"\n          element={\n            <PrivateRoute user={user}>\n              <MainPage user={user} onLogout={handleLogout} />\n            </PrivateRoute>\n          }\n        />\n\n        {/* Settings page */}\n        <Route\n          path=\"/settings\"\n          element={\n            <PrivateRoute user={user}>\n              <SettingsPage user={user} setUser={setUser} />\n            </PrivateRoute>\n          }\n        />\n\n        {/* Public form page for each realtor */}\n        <Route path=\"/form/:realtorId\" element={<FormPage />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}