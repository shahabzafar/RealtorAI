{"ast":null,"code":"var _jsxFileName = \"d:\\\\Shahab 2024-25\\\\4th Year\\\\Capstone\\\\RealtorIQ\\\\RealtorIQ\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport HomeApp from './components/Home/HomeApp';\nimport RealtorApp from './components/Realtor/RealtorApp';\nimport MainPage from './components/MainPage/MainPage'; // NEW\nimport SettingsPage from './components/Settings/SettingsPage'; // NEW\nimport FormPage from './components/Form/FormPage'; // NEW\n\nimport SignIn from './components/Auth/SignIn';\nimport SignUp from './components/Auth/SignUp';\nimport PrivateRoute from './components/Auth/PrivateRoute';\n\n// Dark mode or global styling\nimport './styles/Home/global.css';\nimport './styles/darkmode.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.withCredentials = true;\n// Change baseURL based on environment\naxios.defaults.baseURL = process.env.NODE_ENV === 'development' ? 'http://localhost:5000' : 'https://realtoriq.onrender.com';\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await axios.get('/auth/status', {\n          withCredentials: true\n        });\n        if (response.data.authenticated) {\n          setUser(response.data.user);\n          // If we're on /main, redirect to /realtor\n          if (window.location.pathname === '/main') {\n            window.location.replace('/realtor');\n          }\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    checkAuth();\n  }, []);\n  const handleLogin = () => {\n    // For local login, we do it inside SignIn\n    // For Google login:\n    window.location.href = 'https://realtoriqbackend.onrender.com/auth/google';\n  };\n  const handleLogout = async () => {\n    try {\n      await axios.get('/auth/logout');\n      setUser(null);\n      window.location.href = '/';\n    } catch (error) {\n      console.error('Error logging out:', error);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomeApp, {\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/main\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/realtor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/signin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/realtor\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          user: user,\n          children: /*#__PURE__*/_jsxDEV(RealtorApp, {\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/realtor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(SignIn, {\n          setUser: setUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/realtor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(SignUp, {\n          setUser: setUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/main\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          user: user,\n          children: /*#__PURE__*/_jsxDEV(MainPage, {\n            user: user,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/settings\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          user: user,\n          children: /*#__PURE__*/_jsxDEV(SettingsPage, {\n            user: user,\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/form/:realtorId\",\n        element: /*#__PURE__*/_jsxDEV(FormPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","axios","HomeApp","RealtorApp","MainPage","SettingsPage","FormPage","SignIn","SignUp","PrivateRoute","jsxDEV","_jsxDEV","defaults","withCredentials","baseURL","process","env","NODE_ENV","App","_s","user","setUser","isLoading","setIsLoading","checkAuth","response","get","data","authenticated","window","location","pathname","replace","error","console","handleLogin","href","handleLogout","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","to","onLogout","_c","$RefreshReg$"],"sources":["d:/Shahab 2024-25/4th Year/Capstone/RealtorIQ/RealtorIQ/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\n\nimport HomeApp from './components/Home/HomeApp';\nimport RealtorApp from './components/Realtor/RealtorApp';\nimport MainPage from './components/MainPage/MainPage'; // NEW\nimport SettingsPage from './components/Settings/SettingsPage'; // NEW\nimport FormPage from './components/Form/FormPage'; // NEW\n\nimport SignIn from './components/Auth/SignIn';\nimport SignUp from './components/Auth/SignUp';\nimport PrivateRoute from './components/Auth/PrivateRoute';\n\n// Dark mode or global styling\nimport './styles/Home/global.css';\nimport './styles/darkmode.css'; \n\naxios.defaults.withCredentials = true;\n// Change baseURL based on environment\naxios.defaults.baseURL = process.env.NODE_ENV === 'development' \n  ? 'http://localhost:5000'\n  : 'https://realtoriq.onrender.com';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await axios.get('/auth/status', { withCredentials: true });\n        if (response.data.authenticated) {\n          setUser(response.data.user);\n          // If we're on /main, redirect to /realtor\n          if (window.location.pathname === '/main') {\n            window.location.replace('/realtor');\n          }\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  const handleLogin = () => {\n    // For local login, we do it inside SignIn\n    // For Google login:\n    window.location.href = 'https://realtoriqbackend.onrender.com/auth/google';\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.get('/auth/logout');\n      setUser(null);\n      window.location.href = '/';\n    } catch (error) {\n      console.error('Error logging out:', error);\n    }\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<HomeApp user={user} />} />\n        <Route \n          path=\"/main\" \n          element={user ? <Navigate to=\"/realtor\" /> : <Navigate to=\"/signin\" />} \n        />\n        <Route\n          path=\"/realtor\"\n          element={\n            <PrivateRoute user={user}>\n              <RealtorApp user={user} />\n            </PrivateRoute>\n          }\n        />\n        <Route \n          path=\"/signin\" \n          element={user ? <Navigate to=\"/realtor\" /> : <SignIn setUser={setUser} />} \n        />\n        <Route \n          path=\"/signup\" \n          element={user ? <Navigate to=\"/realtor\" /> : <SignUp setUser={setUser} />} \n        />\n\n        {/* Main dashboard after login */}\n        <Route\n          path=\"/main\"\n          element={\n            <PrivateRoute user={user}>\n              <MainPage user={user} onLogout={handleLogout} />\n            </PrivateRoute>\n          }\n        />\n\n        {/* Settings page */}\n        <Route\n          path=\"/settings\"\n          element={\n            <PrivateRoute user={user}>\n              <SettingsPage user={user} setUser={setUser} />\n            </PrivateRoute>\n          }\n        />\n\n        {/* Public form page for each realtor */}\n        <Route path=\"/form/:realtorId\" element={<FormPage />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}